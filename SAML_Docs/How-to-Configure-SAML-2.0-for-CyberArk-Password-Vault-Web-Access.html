<html>
<head>
    <link href="../resources/css/doc-style.css" media="all" rel="stylesheet" type="text/css" />
    <script src="../resources/js/jff5neq.js" type="text/javascript"></script>
    <script type="text/javascript">
        try{Typekit.load();}catch(e){}
    </script>
    <script src="../resources/js/jquery.min.js"></script>
    <script src="../resources/js/vkbeautify.js"></script>

    <title>Setup SSO</title>

    <script src="../resources/js/getAppValues.js"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
<div class="header clearfix">
    <div class="logo-container">
        <img src="../resources/img/okta-logo-white.png" alt="Okta" />
    </div>
</div>
<div class="okta-instructions">
<h1>How to Configure SAML 2.0 for CyberArk Password Vault Web Access</h1>
<div id="loginAdminApp" class="okta-callout okta-error" style="display: none;"><span class="icon-24 icon-error"></span>
<p>This setup might fail without parameter values that are customized for your organization. Please use the Okta Administrator Dashboard to add an application and view the values that are specific for your organization.</p>
</div>
<ol>


<li><p>Open the <strong>c:\inetpub\wwwroot\PasswordVault\web.config</strong> file from the server hosting the CyberArk Password Vault Web Access (PVWA).</p></li>

<li><p>Search for the <strong>&lt;appSettings&gt;</strong> section.</p></li>

<li><p>Add the following lines:</p>
<ul>
<li><p><strong>&lt;add key="IdentityProviderLoginURL" value="&lt;value1&gt;" /&gt;</strong></p>
<p>For <strong>&lt;value1&gt;</strong>, copy and paste the following:</p>
<p><kbd id="signOnUrl">Sign into the Okta Admin Dashboard to generate this variable.</kbd></p>
</li>

<li><p><strong>&lt;add key="IdentityProviderCertificate"value="&lt;value2&gt;" /&gt;</strong></p>

<p>For <strong>&lt;value2&gt;</strong>, copy and paste the following (x509 cert in text format):</p>
<pre id="x509CertText">Sign into the Okta Admin Dashboard to generate this variable.</pre>
</li>

<li><p><strong>&lt;add key="Issuer" value="PasswordVault" /&gt;</strong></p></li>

</ul>
<p><img border="1" src="images/apps/cyberark1.png" alt="cyberark1.png" /></p>
</li>
<li><p>Save the <strong>web.config</strong> file.</p></li>


<li><p>Restart Internet Information Services (IIS).</p></li>

<li><p>Login to CyberArk PVWA as an administrator.</p></li>


<li><p>Navigate to <strong>Administration > Options > Access Restrictions</strong>.</p></li>

<li><p>Add a new <strong>AllowedReferrer</strong>. Use the following value for the <strong>BaseUrl</strong>:</p>
<p><kbd id="signOnUrl2">Sign into the Okta Admin Dashboard to generate this variable.</kbd></p></li>

<li><p>Click <strong>Apply</strong>.</p></li>
<p><img border="1" src="images/apps/cyberark2.png" alt="cyberark2.png" /></p>




<li><p>Select <strong>Authentication Methods > saml</strong>.</p></li>

<li><p><strong>Display Name</strong>: Enter <strong>Login with Okta</strong>.</p></li>

<li><p><strong>Enabled</strong>: Set to <strong>Yes</strong>.</p></li>

<li><p><strong>LoggoffUrl</strong>: Copy and paste the following:</p>
<p><kbd id="signOutUrl">Sign into the Okta Admin Dashboard to generate this variable.</kbd></p>
</li>

<li><p>Click <strong>Apply</strong>.</p></li>

<li><p>Click <strong>OK</strong>.</p></li>

<p><img border="1" src="images/apps/cyberark3.png" alt="cyberark3.png" /></p>





<li><p>Done!</p></li>
</ol>


<br />
<p><b>Notes:</b></p>
<p>IDP-initiated flows and SP-initiated flows are supported.</p>

<p>Just In Time (JIT) provisioning is not supported.</p>

<br />

<h3>For SP-initiated Flows:</H3>

<ol>
<li><p>Open your CyberArk PVWA Login URL: <strong>[yourBaseUrl]/PasswordVault/</strong>.</p></li>
<li><p>Click <strong>Login with Okta</strong>.</p></li>

<p><img border="1" src="images/apps/cyberark4.png" alt="cyberark4.png" /></p>

</ol>


</div>
</body>
</html>
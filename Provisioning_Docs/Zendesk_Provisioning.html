<html>
<head>
<link href="../resources/css/doc-style.css" media="all" rel="stylesheet" type="text/css" />
<script src="../resources/js/jff5neq.js" type="text/javascript"></script>
<script type="text/javascript">
try{Typekit.load();}catch(e){}
</script>
<script src="../resources/js/jquery.min.js"></script>
    <script src="../resources/js/vkbeautify.js"></script>

<title>Zendesk Provisioning</title>

<script src="../resources/js/getAppValues.js"></script>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>
<body>
<div class="header clearfix">
        <div class="logo-container">
            <img src="../resources/img/okta-logo-white.png" alt="Okta" />
        </div>
    </div>
<div class="okta-instructions">

<div id="loginAdminApp" class="okta-callout okta-error" style="display: none;"><span class="icon-24 icon-error"></span>
<p>To reconfigure any of the <strong>General Settings</strong> or <strong>Sign-On Options</strong>, uncheck the <strong>Enable provisioning features</strong> box, and use the <strong>Previous</strong> and <strong>Next</strong> buttons to navigate through the configuration screens.</p>
</div>


<h1>Configuring Provisioning for Zendesk</h1>

<p>This guide provides the steps required to configure Provisioning for Zendesk, and includes the following topics:</p>

<ul>
<li><a href="#features">Features</a></li>
<li><a href="#configuration">Configuration Steps</a></li>
<li><a href="#schema">Schema Discovery</a></li>
<li><a href="#tips">Troubleshooting Tips</a></li>
</ul>
<hr>




<a name="features"</a><h2>Features</h2>
<p>The following provisioning features are supported:</p>
<ul>
<li><strong>Import New Users</strong>
<p>New users created in the third party application will be downloaded and turned in to new AppUser objects, for matching against existing OKTA users.
</p>
</li>
<li><strong>Import Profile Updates</strong>

</li>
<li><strong>Import User Schema</strong>

</li>
<li><strong>Push New Users</strong>
<p>New users created through OKTA will also be created in the third party application.
</p>
</li>
<li><strong>Push Password Updates</strong>
<p>Updates made to the user's password through OKTA will be pushed to the third party application.
</p>
</li>
<li><strong>Push Profile Updates</strong>
<p>Updates made to the user's profile through OKTA will be pushed to the third party application.
</p>
</li>

<li><strong>Push User Deactivation</strong>
<p>Deactivating the user or disabling the user's access to the application through OKTA will deactivate the user in the third party application.</p></li>
<li><strong>Reactivate Users</strong>
<p>Reactivating the user through Okta will reactivate the user in the 3rd party application.</p></li>






</ul>

<hr>
<a name="configuration"></a><h2>Configuration Steps</h2>
<ol>

<li><p>Configure your <strong>Provisioning</strong> settings for Zendesk as follows:</p>

<ul>
<li><p>Check the <strong>Enable provisioning features</strong> box.</p></li>
<li><p>Enter your Zendesk API credentials in the <strong>Username</strong> and <strong>Password</strong> fields.</p>
<ul>
<li><p>Only verified account credentials can be used (see <a href="https://support.zendesk.com/entries/23242272-Verifying-a-user-s-email-address" target="_blank">https://support.zendesk.com/entries/23242272-Verifying-a-user-s-email-address</a> for more information).</p></li>
<li><p>Only accounts without two-factor authentication can be used.</p></li>
</ul>
</li>

<li><p>Select what kind of <strong>User Roles to Import</strong>; either <strong>All Users</strong> or <strong>Only Admins and Agents</strong>.</p></li>

<li><p>Check <strong>Don’t import suspended users</strong> if inactive users should be ignored during import.</p></li>
<p><img src="images/apps/zendeskprovisioning1.png" alt=“zendeskprovisioning1.png" /></p>

<li><p>Scroll down and select the <strong>Provisioning Features</strong> you want to enable.</p>
<p><img src="images/apps/zendeskprovisioning2.png" alt=“zendeskprovisioning2.png" /></p></li>

<li><p>Click <strong>Save</strong>.</p></li>
</li>

</ul>
</li>

<li><p>You can now assign people to the app (if needed) and finish the application setup.</p></li>
</ol>
<br />
<hr>
<a name="schema"></a><h2>Schema Discovery</h2>

<div class="okta-callout okta-warning"><span class="icon-24 icon-warning"></span>



<p>In order to use schema discovery, make sure you have the UD feature flag <strong>PROV_ZENDESK_ENABLE_UD</strong> turned on before you create your app instance.</p>

</div>

<p>Zendesk supports User's Schema Discovery, so you can add some extra attributes to User's Profile, to do that, follow the instructions below:</p>


<ol>
<li><p>In Okta, from the Admin dashboard, select <strong>Directory > Profile Editor</strong>.</p></li>

<li><p>Select the <strong>APPS</strong> section in the left navigation bar, then find your app in the list.</p></li>

<li><p>Check the list of attributes, and if you decide you need more, click <strong>Add Attribute</strong>. A list of extended attributes will appear:</p>
<p><img src="images/apps/zendesk3.png" alt=“zendesk3.png" /></p></li>

</li>

<li><p>Select the attributes you want to add, then click <strong>Save</strong>.</p></li>

<li><p>You can now import and push these user attribute values to/from Zendesk.</p></li>
</ol>
<br />

<hr>


<a name="tips"></a><h2>Troubleshooting Tips</h2>
<ul>

<li><p>In order to ensure that <strong>Sync Unique Password</strong> works for the Zendesk application, make sure you have enabled <strong>All admins to set passwords</strong>, as shown below (Zendesk Global section, Security > Settings):  </p>
<p><img src="images/apps/zendesk_new1.png" alt=“zendesk_new1.png" /></p></li>


<li><p>If you are in the process of creating a Zendesk app instance with <strong>PROV_ZENDESK_ENABLE_UD</strong> provisioning feature turned on, you will encounter an error similar to the following during the app assignment flow.</p>
<p><img src="images/apps/zendesk4.png" alt=“zendesk4.png" /></p>

<p>The workaround for this is to first create the app instance without assigning it to any user/group. Once the app instance exists, you can then assign the app to the respective people by either:

<ul>
<li><p><strong>By User</strong>: From the Okta admin dashboard, navigate to <strong>Directory > People</strong> then assign apps to users.</p></li>
<li><p><strong>By Application</strong>: From the Okta admin dashboard, navigate to <strong>Applications</strong> then assign apps to users.</p></li>
</ul>
</li>


<li><p>If you get a phone validation error during creating/updating a user:</p>
<p><img src="images/apps/zendesk_new_1.png" alt="zendesk_new_1.png" /></p>

<p>You can only use <a href="https://support.zendesk.com/hc/en-us/articles/227730307-Phone-number-validation-is-a-new-option-on-accounts" target="_blank">E.164 phone format</a> for users or must disable phone validation in Zendesk side (<strong>Admin > Customers > Validate user phone numbers</strong>):</p>

<p><img src="images/apps/zendesk_new_2.png" alt="zendesk_new_2.png" /></p>
</li>




</ul>

</div>
</body>
</html>
